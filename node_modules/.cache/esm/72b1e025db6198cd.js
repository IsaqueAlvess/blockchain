let SHA256;_db6‍.x([["default",()=>Bloco]]);_db6‍.w("crypto-js/sha256",[["default",["SHA256"],function(v){SHA256=v}]]);

               class Bloco{
    constructor(timestamp, transacoes,hashBlocoAnterior){
        this.timestamp = timestamp;
        this.transacoes = transacoes;
        this.hashBlocoAnterior = hashBlocoAnterior; //this == referencia na classe
        this.contador = 0;
        this.hash = this.calcularHash(); 
    }

    calcularHash(){
        return SHA256(this.hashBlocoAnterior + this.timestamp + this.contador).toString();
    }
    
    minerarBloco(dificuldade){
        let pedacoDoHash = this.hash.substring(0, dificuldade);   // parte do Hash de acordo com a dificuldade. nesse caso vamos pegar do 0 até a DIFICULDADE passada.
        let hashASerMinerado = Array(dificuldade + 1).join("0");      //O join seta as posições do array para "0"

        while (pedacoDoHash !== hashASerMinerado){
            this.contador++;
            this.hash = this.calcularHash();
            pedacoDoHash = this.hash.substring(0, dificuldade);
        }

        _db6‍.g.console.log('Bloco minerado: ', this.hash);
    }

}
